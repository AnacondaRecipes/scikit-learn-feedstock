From 52d8320bc34f068f6df30f0377913695bbda9eb0 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Thu, 14 Sep 2017 21:23:38 +0100
Subject: [PATCH 3/3] add a few atols to estimator checks

---
 sklearn/utils/estimator_checks.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/sklearn/utils/estimator_checks.py b/sklearn/utils/estimator_checks.py
index f79d082..d44ec16 100644
--- a/sklearn/utils/estimator_checks.py
+++ b/sklearn/utils/estimator_checks.py
@@ -1722,7 +1722,7 @@ def check_supervised_y_2d(name, estimator_orig):
         assert_greater(len(w), 0, msg)
         assert "DataConversionWarning('A column-vector y" \
                " was passed when a 1d array was expected" in msg
-    assert_allclose(y_pred.ravel(), y_pred_2d.ravel())
+    assert_allclose(y_pred.ravel(), y_pred_2d.ravel(), atol=1e-9)
 
 
 @ignore_warnings
@@ -2002,7 +2002,7 @@ def check_class_weight_balanced_linear_classifier(name, Classifier):
     classifier.set_params(class_weight=class_weight)
     coef_manual = classifier.fit(X, y).coef_.copy()
 
-    assert_allclose(coef_balanced, coef_manual,
+    assert_allclose(coef_balanced, coef_manual, atol=1e-9,
                     err_msg="Classifier %s is not computing"
                     " class_weight=balanced properly."
                     % name)
-- 
2.7.4

